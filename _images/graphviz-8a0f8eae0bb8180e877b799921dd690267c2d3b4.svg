<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: enqueue Pages: 1 -->
<svg width="430pt" height="285pt"
 viewBox="0.00 0.00 430.40 284.93" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 280.928)">
<title>enqueue</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-280.928 426.399,-280.928 426.399,4 -4,4"/>
<!-- command_in -->
<g id="node1" class="node"><title>command_in</title>
<polygon fill="lightgrey" stroke="none" points="329.399,-276.928 131.399,-276.928 131.399,-240.928 329.399,-240.928 329.399,-276.928"/>
<text text-anchor="middle" x="230.399" y="-254.938" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">服务器接到来自客户端的命令</text>
</g>
<!-- in_transaction_or_not -->
<g id="node2" class="node"><title>in_transaction_or_not</title>
<polygon fill="#95bbe3" stroke="black" points="230.399,-203.928 51.5071,-185.928 230.399,-167.928 409.291,-185.928 230.399,-203.928"/>
<text text-anchor="middle" x="230.399" y="-181.938" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">客户端是否正处于事务状态？</text>
</g>
<!-- command_in&#45;&gt;in_transaction_or_not -->
<g id="edge1" class="edge"><title>command_in&#45;&gt;in_transaction_or_not</title>
<path fill="none" stroke="black" stroke-width="2" d="M230.399,-240.741C230.399,-232.718 230.399,-222.976 230.399,-213.997"/>
<polygon fill="black" stroke="black" stroke-width="2" points="233.899,-213.957 230.399,-203.957 226.899,-213.957 233.899,-213.957"/>
</g>
<!-- enqueu_command -->
<g id="node3" class="node"><title>enqueu_command</title>
<polygon fill="#a8e270" stroke="none" points="203.399,-112.328 47.3989,-112.328 47.3989,-76.3282 203.399,-76.3282 203.399,-112.328"/>
<text text-anchor="middle" x="125.399" y="-90.3382" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">将命令放进事务队列里</text>
</g>
<!-- in_transaction_or_not&#45;&gt;enqueu_command -->
<g id="edge2" class="edge"><title>in_transaction_or_not&#45;&gt;enqueu_command</title>
<path fill="none" stroke="black" stroke-width="2" d="M212.109,-169.321C195.863,-155.458 171.876,-134.988 153.246,-119.091"/>
<polygon fill="black" stroke="black" stroke-width="2" points="155.507,-116.42 145.628,-112.591 150.963,-121.744 155.507,-116.42"/>
<text text-anchor="middle" x="194.399" y="-138.728" font-family="Times,serif" font-size="14.00">是</text>
</g>
<!-- exec_command -->
<g id="node5" class="node"><title>exec_command</title>
<polygon fill="#fadcad" stroke="none" points="337.399,-112.328 265.399,-112.328 265.399,-76.3282 337.399,-76.3282 337.399,-112.328"/>
<text text-anchor="middle" x="301.399" y="-90.3382" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">执行命令</text>
</g>
<!-- in_transaction_or_not&#45;&gt;exec_command -->
<g id="edge3" class="edge"><title>in_transaction_or_not&#45;&gt;exec_command</title>
<path fill="none" stroke="black" stroke-width="2" d="M243.092,-168.909C253.727,-155.489 269.098,-136.092 281.387,-120.582"/>
<polygon fill="black" stroke="black" stroke-width="2" points="284.381,-122.44 287.848,-112.429 278.895,-118.092 284.381,-122.44"/>
<text text-anchor="middle" x="279.399" y="-138.728" font-family="Times,serif" font-size="14.00">否</text>
</g>
<!-- return_enqueued -->
<g id="node4" class="node"><title>return_enqueued</title>
<polygon fill="#a8e270" stroke="none" points="206.697,-39.4938 0.100976,-39.4938 0.100976,0.165505 206.697,0.165505 206.697,-39.4938"/>
<text text-anchor="middle" x="103.399" y="-24.1282" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">向客户端返回 QUEUED 字符串</text>
<text text-anchor="middle" x="103.399" y="-7.21998" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">表示命令已入队</text>
</g>
<!-- enqueu_command&#45;&gt;return_enqueued -->
<g id="edge5" class="edge"><title>enqueu_command&#45;&gt;return_enqueued</title>
<path fill="none" stroke="black" stroke-width="2" d="M120.185,-76.1079C117.766,-68.1188 114.826,-58.4062 112.086,-49.3561"/>
<polygon fill="black" stroke="black" stroke-width="2" points="115.364,-48.1036 109.116,-39.5468 108.664,-50.132 115.364,-48.1036"/>
</g>
<!-- return_command_result -->
<g id="node6" class="node"><title>return_command_result</title>
<polygon fill="#fadcad" stroke="none" points="422.399,-37.6641 224.399,-37.6641 224.399,-1.66412 422.399,-1.66412 422.399,-37.6641"/>
<text text-anchor="middle" x="323.399" y="-15.6741" font-family="'/usr/share/fonts/truetype/wqy/wqy-microhei.ttc'" font-size="14.00">向客户端返回命令的执行结果</text>
</g>
<!-- exec_command&#45;&gt;return_command_result -->
<g id="edge4" class="edge"><title>exec_command&#45;&gt;return_command_result</title>
<path fill="none" stroke="black" stroke-width="2" d="M306.613,-76.1079C309.188,-67.6014 312.355,-57.141 315.242,-47.6068"/>
<polygon fill="black" stroke="black" stroke-width="2" points="318.675,-48.3461 318.223,-37.7609 311.975,-46.3176 318.675,-48.3461"/>
</g>
</g>
</svg>
