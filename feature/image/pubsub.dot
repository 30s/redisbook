digraph pubsub {

    rankdir = LR;

    node [shape = record];

    // keys

    pubsub [label = "pubsub_channels |<channel1> channel1 |<channel2> channel2 |<channel3> channel3 | ... |<channelN> channelN"];

    // clients blocking for channel1
    client1 [label = "client1"];
    client5 [label = "client5"];
    client2 [label = "client2"];
    
    pubsub:channel1 -> client2;
    client2 -> client5;
    client5 -> client1;

    // clients blocking for channel2
    client7 [label = "client7"];

    pubsub:channel2 -> client7;

    // channel

    client3 [label = "client3"];
    client4 [label = "client4"];
    client6 [label = "client6"];

    pubsub:channel3 -> client3;
    client3 -> client4;
    client4 -> client6;
}
